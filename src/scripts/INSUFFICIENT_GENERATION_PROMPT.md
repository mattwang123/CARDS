# Creating High-Quality Logically Insufficient Math Problems

## The Core Challenge

**DO NOT create obviously broken questions.** Simple replacements like "12 apples" → "some apples" are trivially detectable as artificial. Instead, create questions that appear professionally written but are mathematically incomplete.

## What is Logical Insufficiency?

A problem is **logically insufficient** when it lacks information needed to determine a **unique** answer, even though:
- The question is grammatically perfect
- The mathematical relationships are clear
- The problem sounds like a real question someone might ask
- All present information is coherent and consistent

**Key insight:** Real-world insufficient questions often arise from:
1. **Ambiguous references** (which measurement? which person?)
2. **Missing relationships** (how do X and Y relate?)
3. **Underspecified systems** (2 variables, 1 equation)
4. **Implicit assumptions** (unstated conditions)

## Transformation Strategies (Beyond Simple Substitution)

### Strategy 1: Ambiguous Reference
**Instead of removing a number, make references ambiguous.**

❌ BAD (too obvious):
- Original: "John has 5 red marbles and 3 blue marbles. He gives away 2 red marbles. How many marbles does he have?"
- Bad transform: "John has some red marbles and 3 blue marbles. He gives away 2 red marbles. How many marbles does he have?"

✅ GOOD (natural ambiguity):
- Original: "A rectangle has a length of 10 cm and width of 5 cm. What is the area?"
- Good transform: "A rectangle has one side of 10 cm and another side of 5 cm. What is the area?"
- Why: "One side" and "another side" are ambiguous - they could be adjacent or opposite sides. Sounds natural.

✅ GOOD (which item?):
- Original: "Sarah bought 3 notebooks at $4 each and 2 pens at $1 each. How much did she spend total?"
- Good transform: "Sarah bought 3 notebooks at $4 each and 2 pens at a certain price each. She spent a total amount on these items. How much did she spend on the notebooks?"
- Why: Question is now asking about notebooks specifically, but mentions pens without their contribution being calculable.

### Strategy 2: Underspecified System
**Create situations with insufficient constraints.**

✅ GOOD:
- Original: "Tom has twice as many apples as Jerry. Together they have 18 apples. How many does Tom have?"
- Good transform: "Tom has twice as many apples as Jerry. Tom has some apples. How many does Jerry have?"
- Why: We have a ratio (2:1) but not an absolute anchor point. Mathematically valid but unsolvable.

✅ GOOD:
- Original: "A triangle has sides of 3 cm, 4 cm, and 5 cm. What is its perimeter?"
- Good transform: "A triangle has sides of 3 cm, 4 cm, and one other side. What is its perimeter?"
- Why: Triangle inequality still holds, but third side is ambiguous. Sounds like incomplete information gathering.

### Strategy 3: Removed Operation/Relationship
**Keep numbers but remove how they relate.**

✅ GOOD:
- Original: "Class A has 25 students. Class B has 5 more students than Class A. How many students are in Class B?"
- Good transform: "Class A has 25 students. Class B has a different number of students. The two classes will combine for a field trip. How many students are in Class B?"
- Why: We know they differ, but not how. Context suggests information gathering.

✅ GOOD:
- Original: "A car travels 60 miles in 2 hours at constant speed. What is the speed?"
- Good transform: "A car travels 60 miles in 2 hours. During the trip, the speed varies. What was the maximum speed?"
- Why: We know distance and time, but explicit mention of varying speed makes "maximum speed" unanswerable.

### Strategy 4: Implicit vs Explicit Information
**Questions that seem to have all info but actually don't.**

✅ GOOD:
- Original: "A rectangular garden is 15 feet long and 10 feet wide. How much fencing is needed for the perimeter?"
- Good transform: "A rectangular garden is 15 feet long. How much fencing is needed for the perimeter?"
- Why: Sounds like someone describing their garden casually. Missing dimension isn't glaringly obvious.

✅ GOOD:
- Original: "Pizza costs $12 per pie. John bought 3 pies for a party. He paid with a $50 bill. How much change did he get?"
- Good transform: "Pizza costs $12 per pie. John bought several pies for a party. He paid with a $50 bill. How much change did he get?"
- Why: "Several pies" is natural language. The question focuses on change, which is common.

### Strategy 5: Context-Dependent Ambiguity
**Create situations where missing context makes problems unsolvable.**

✅ GOOD:
- Original: "A store marks up items by 20% from wholesale. A shirt costs the store $25 wholesale. What's the retail price?"
- Good transform: "A store marks up items from wholesale. A shirt costs the store $25 wholesale. What's the retail price?"
- Why: We know there's a markup, but not the amount. Natural business question.

✅ GOOD:
- Original: "Tank A holds 100 gallons and is currently 3/4 full. How many gallons are in the tank?"
- Good transform: "Tank A holds 100 gallons and is partially full. Tank B holds 50 gallons and is also partially full. If we combine both tanks, how many gallons do we have?"
- Why: Both tanks have unknown fill levels. Question sounds like planning/logistics.

## What Makes a Transformation GOOD vs BAD?

### ❌ BAD Transformations (Too Obvious)
1. **Crude substitution**: "12 books" → "some books"
2. **Unnatural phrasing**: "X number of students"
3. **Grammatical awkwardness**: "a certain amount of time duration"
4. **Single-word replacements** that break sentence flow
5. **Removing all numbers** (makes it obviously artificial)

### ✅ GOOD Transformations (Natural & Subtle)
1. **Maintains natural flow**: Reads like a real question
2. **Preserves context**: Background information stays coherent
3. **Plausible scenario**: Could be from a real textbook or homework
4. **Multiple interpretations**: Several valid answers exist
5. **Requires thought**: Not immediately obvious it's unsolvable

## Quality Checklist

Before submitting an insufficient variant, verify:

- [ ] **Does it sound natural?** Could this appear in a real textbook?
- [ ] **Is the grammar perfect?** No awkward phrasings?
- [ ] **Is it genuinely unsolvable?** Not just harder, but impossible to get unique answer?
- [ ] **Are there multiple valid answers?** Can you think of 2+ different solutions?
- [ ] **Is the insufficiency subtle?** Would a student read it without immediately thinking "this is broken"?
- [ ] **Is context preserved?** Does the scenario still make sense?
- [ ] **Are relationships maintained?** All present information is consistent?

## Advanced Examples: UMWP-Style Transformations

### Example 1: Ambiguous Reference
**Original:**
"Jake has 9 fewer peaches than Steven and 18 more peaches than Jill. Steven has 16 peaches. How many more peaches does Steven have than Jill?"

**Insufficient (GOOD):**
"Jake has 9 fewer peaches than Steven and 18 more peaches than Jill. Steven and Jake together have some peaches. How many more peaches does Steven have than Jill?"

**Why it works:**
- Removed specific anchor (Steven's 16)
- Added plausible distractor (together have some)
- Question still sounds reasonable
- Multiple valid answer sets: (Steven=16, Jake=7, Jill=-11 invalid) or (Steven=20, Jake=11, Jill=-7 invalid) etc.
- Grammatically perfect

**Removed:** "16"
**Description:** "Steven's peach count - critical anchor for solving the system"

### Example 2: Underspecified Rates
**Original:**
"Ellis is going to take a road trip with her family. There will be four people total: Ellis, her mother, her sister, and her aunt. They will be on the road to their destination for 8 hours and drive 8 hours to return home. Every hour each person will want to drink 1/2 a bottle of water. How many water bottles will Ellis' family need total?"

**Insufficient (GOOD):**
"Ellis is going to take a road trip with her family. There will be four people total: Ellis, her mother, her sister, and her aunt. They will be on the road to their destination for 8 hours and drive 8 hours to return home. Each person will drink water during the trip. How many water bottles will Ellis' family need total?"

**Why it works:**
- "Each person will drink water" is natural
- Removed specific rate (1/2 bottle/hour) without crude substitution
- Question context fully preserved
- Sounds like planning question where rate hasn't been decided yet

**Removed:** "1/2 (bottle per person per hour)"
**Description:** "consumption rate per person per hour"

### Example 3: Missing Total in Part-Whole Problem
**Original:**
"Ali is collecting bottle caps. He has 125 bottle caps. He has red ones and green ones. If he has 50 red caps, what percentage of caps are green?"

**Insufficient (GOOD):**
"Ali is collecting bottle caps. He has red ones and green ones. If he has 50 red caps and the rest are green, what percentage of caps are green?"

**Why it works:**
- "the rest are green" is natural language
- Removed total (125) but maintains part-whole relationship
- Question sounds like a student asking for help
- Mathematically impossible without total

**Removed:** "125"
**Description:** "total number of bottle caps"

### Example 4: Ambiguous Geometric Reference
**Original:**
"A right triangle has legs of 3 cm and 4 cm. What is the length of the hypotenuse?"

**Insufficient (GOOD):**
"A right triangle has one side of 3 cm and another side of 4 cm. What is the length of the hypotenuse?"

**Why it works:**
- "one side" and "another side" are ambiguous
- Could be: legs (answer: 5) OR leg + hypotenuse (answer: √7 or √25)
- Sounds natural - casual description of triangle
- Grammatically perfect

**Removed:** "specification that these are legs"
**Description:** "geometric relationship - which sides are legs vs hypotenuse"

### Example 5: Missing Constraint in System
**Original:**
"A concert ticket costs $40. Mr. Benson bought 12 tickets and received a 5% discount for every ticket bought that exceeds 10. How much did Mr. Benson pay in all?"

**Insufficient (GOOD):**
"A concert ticket costs $40. Mr. Benson bought tickets for his group and received a 5% discount for every ticket bought that exceeds 10. How much did Mr. Benson pay in all?"

**Why it works:**
- "for his group" provides context for quantity
- Removed specific count (12) naturally
- Discount structure preserved
- Sounds like someone planning a purchase

**Removed:** "12"
**Description:** "number of tickets purchased"

## Output Format Requirements

Return JSON with:
```json
{
  "insufficient_question": "The transformed question - must sound natural and professional",
  "removed_value": "What was removed - be specific (e.g., '16', '1/2 bottle/hour', 'leg specification')",
  "removed_description": "Brief explanation of what makes this critical (e.g., 'anchor value for system of equations', 'consumption rate needed for total calculation')"
}
```

## Final Guidance: Think Like a Textbook Author

Imagine you're writing a textbook problem but accidentally forgot to include one critical piece of information. The question should:
- Sound professional
- Have clear context
- Be grammatically perfect
- **Not** look like someone did find-replace on numbers
- **Not** have obvious gaps like "some" or "a certain number"
- Feel like incomplete information gathering rather than artificial damage

**Your goal:** Create questions where a student would attempt to solve them, get stuck, and then realize "wait, I don't have enough information" - NOT questions where they immediately see "this is obviously broken."
